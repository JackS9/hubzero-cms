(function(e){function r(t){var n=e(t).data("fancyselect"),r=e("#fs-dropdown-"+n.id);r.on("click",".fs-dropdown-selected-item",function(e){e.preventDefault();if(r.hasClass("fs-dropdown-open")){s(t)}else{i(t)}});r.on("click",".fs-dropdown-option a",function(i){i.preventDefault();var o=e(this),u=o.attr("data-value"),a=o.attr("data-text"),f=o.attr("data-img");e(this).parents(".fs-dropdown-options").find("li").removeClass("fs-dropdown-option-selected");e(this).parent("li").addClass("fs-dropdown-option-selected");r.find(".fs-dropdown-selected-item span").text(a);r.find(".fs-dropdown-selected-image").html('<img src="'+f+'" />');r.next("select").val(u);if(typeof n.settings.onSelected=="function"){n.settings.onSelected.call(this,n,{value:u,text:a,image:f})}s(t)});e("body").on("click",function(e){o()})}function i(t){var n=t.data("fancyselect");o();var r=e("#fs-dropdown-"+n.id),i=r.find(".fs-dropdown-options");i.hide().css("left","0").slideDown(200,function(){r.addClass("fs-dropdown-open")})}function s(t){var n=t.data("fancyselect"),r=e("#fs-dropdown-"+n.id),i=r.find(".fs-dropdown-options");i.slideUp(350,function(){r.removeClass("fs-dropdown-open");e(this).css("left","-9999px")})}function o(){e(".fs-dropdown-open").each(function(){e(this).removeClass("fs-dropdown-open");e(this).find(".fs-dropdown-options").slideUp(100,function(){e(this).css("left","-9999px")})})}e.fn.HUBfancyselect=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist")}};var t={},n={hideSelect:true,onSelected:function(){}};t.init=function(t){var i=e.extend({},n,t);return this.each(function(){var t=e(this),n="",s=e("option",t),o=t.find("option[selected]");if(e(o).text()==undefined||e(o).text()==""){o=s.first()}t.data("fancyselect",{id:Math.floor(Math.random()*1e3+1),settings:i});var u=e(o).attr("data-img")!=undefined&&e(o).attr("data-img")!=""?e(o).attr("data-img"):"";n='<div class="fs-dropdown" id="fs-dropdown-'+t.data("fancyselect").id+'">';n+="<ul>";n+='<li class="fs-dropdown-selected">';n+='<a class="fs-dropdown-selected-item" href="javascript:void(0);">';n+='<span class="fs-dropdown-selected-image">';if(u!=""){n+='<img src="'+u+'" />'}n+="</span>";n+="<span>"+e(o).text()+"</span>";n+="</a>";n+='<ul class="fs-dropdown-options">';s.each(function(){var t=e(this).val()==e(o).val()?"fs-dropdown-option-selected":"",r=e(this).attr("data-img")!=""&&e(this).attr("data-img")!=undefined?e(this).attr("data-img"):"";n+='<li class="fs-dropdown-option '+t+'">';n+='<a href="javascript:void(0);" data-value="'+e(this).val()+'" data-text="'+e(this).text()+'" data-img="'+r+'">';if(r!=""){n+='<span class="fs-dropdown-option-image">';n+='<img src="'+r+'" />';n+="</span>"}n+="<span>"+e(this).text()+"</span>";n+="</a>";n+="</li>"});n+="</ul>";n+="</li>";n+="</ul>";n+="</div>";if(i.hideSelect){t.hide()}t.before(n);r(t)})}})(jQuery)