(function(e,t,n,r){function o(t,n){var r=e('<ul class="'+n+'"></ul>');t.each(function(t,n){var i=e(n);if(i.is("option")){r.append(u(i))}else if(i.is("optgroup")){r.append(a(i))}});return r}function u(t){return e('<li class="fs-dropdown-option"></li>').append(e('<a href="javascript:void(0);"></a>').attr("data-value",t.val()).attr("data-text",t.text()).attr("data-img",t.attr("data-img")).attr("data-color",t.attr("data-color")).append(f(t)).append(e("<span>"+t.text()+"</span>")))}function a(e){var t=o(e.children("option"),"fs-dropdown-options-group");t.prepend('<li class="fs-dropdown-label">'+e.attr("label")+"</li>");return t}function f(t){var n=e(t),i=n.attr("data-img"),s=n.attr("data-color");if(i!=""&&i!=r){return'<img class="fs-option-image" src="'+i+'" />'}if(s!=""&&s!=r){return'<div class="fs-option-color" style="background-color:'+s+'"></div>'}return""}function l(t){var n=e(t).data("fancyselect"),r=e("#fs-dropdown-"+n.id);r.on("click",".fs-dropdown-selected-item",function(e){e.preventDefault();if(r.hasClass("fs-dropdown-open")){h(t)}else{c(t)}});r.on("click",".fs-dropdown-option a",function(i,s){i.preventDefault();s=s!=null?s:true;var o=e(this),u=o.attr("data-value"),a=o.attr("data-text"),l=o.attr("data-img");e(this).parents(".fs-dropdown-options").find("li").removeClass("fs-dropdown-option-selected");e(this).parent("li").addClass("fs-dropdown-option-selected");r.find(".fs-dropdown-selected-item span").text(a);r.find(".fs-dropdown-selected-item .fs-option-image").remove();r.find(".fs-dropdown-selected-item .fs-option-color").remove();r.find(".fs-dropdown-selected-item").prepend(f(o));r.next("select").val(u);if(typeof n.settings.onSelected=="function"&&s){n.settings.onSelected.call(this,n,{value:u,text:a,image:l})}h(t)}).on("keyup",".fs-dropdown-options-search input",function(n){var r=e(this).val();i.filterOptions.call(t,r)}).on("keydown",function(t){if(e(".fs-dropdown-open").length){var n=t.keyCode,r=e(".fs-dropdown-open").find("a:focus").parent("li.fs-dropdown-option");if(n==38||n==40){t.preventDefault()}if(n==38){r.prev("li").find("a").focus()}else if(n==40){r.next("li").find("a").focus()}}});e("body").on("click",function(e){if(e.target.nodeName.toLowerCase()!="input"){p()}})}function c(t){var n=t.data("fancyselect");p();var r=e("#fs-dropdown-"+n.id),i=r.find(".fs-dropdown-options-container");i.hide().css("left","0").slideDown(100,function(){r.addClass("fs-dropdown-open")});r.find(".fs-dropdown-options li.fs-dropdown-option-selected a").focus()}function h(t){var n=t.data("fancyselect"),r=e("#fs-dropdown-"+n.id),s=r.find(".fs-dropdown-options-container");s.slideUp(50,function(){r.removeClass("fs-dropdown-open");e(this).css("left","-9999px");i.filterReset.call(t)})}function p(){e(".fs-dropdown-open").each(function(){h(e(this).next("select"))})}e.fn.HUBfancyselect=function(t){if(i[t]){return i[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return i.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};var i={},s={hideSelect:true,showSearch:false,searchPlaceholder:"Search...",maxHeightWithSearch:500,onSearch:function(){},onSelected:function(){}};i.init=function(t){var n=e.extend({},s,t);return this.each(function(){var t=e(this),r="",s=t.children();if(!t.is("select")){return"Must be <select> element"}t.data("fancyselect",{id:Math.floor(Math.random()*1e3+1),settings:n});r=e('<div class="fs-dropdown" id="fs-dropdown-'+t.data("fancyselect").id+'"></div>').append(e("<ul></ul>").append(e('<li class="fs-dropdown-selected"></li>').append(e('<a href="" class="fs-dropdown-selected-item"><span>&nbsp;</span></a>')).append(e('<div class="fs-dropdown-options-container"></div>').append(o(s,"fs-dropdown-options")))));if(n.showSearch){r.find(".fs-dropdown-options-container").prepend(e('<div class="fs-dropdown-options-search"></div>').append(e('<input type="text" placeholder="'+n.searchPlaceholder+'" />'))).find(".fs-dropdown-options").css("max-height",n.maxHeightWithSearch)}t.before(r);l(t);if(n.hideSelect){t.hide()}i.selectValue.call(t,t.find("option:selected").val(),false)})};i.selectValue=function(t,n){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a[data-value="+t+"]").trigger("click",n)})};i.selectText=function(t,n){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a span:contains("+t+")").parent("a").trigger("click",n)})};i.clear=function(){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a").first().trigger("click")})};i.filterOptions=function(t){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option").hide();e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option a[data-value!='']:caseInsensitiveContains(\""+t+'")').parents("li").show();if(t==""){i.filterReset.call(e(this))}e("#fs-dropdown-"+e(this).data("fancyselect").id+" .fs-dropdown-option:visible a span").unhighlight();e("#fs-dropdown-"+e(this).data("fancyselect").id+" .fs-dropdown-option:visible a span").highlight(t)})};i.filterReset=function(){return this.each(function(){e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-option a span").unhighlight();e("#fs-dropdown-"+e(this).data("fancyselect").id).find("li.fs-dropdown-option").show();e("#fs-dropdown-"+e(this).data("fancyselect").id).find(".fs-dropdown-options-search input").val("")})};jQuery.expr[":"].caseInsensitiveContains=function(e,t,n){return(e.textContent||e.innerText||"").toUpperCase().indexOf(n[3].toUpperCase())>=0}})(jQuery,window,document);jQuery.extend({highlight:function(e,t,n,r){if(e.nodeType===3){var i=e.data.match(t);if(i){var s=document.createElement(n||"span");s.className=r||"highlight";var o=e.splitText(i.index);o.splitText(i[0].length);var u=o.cloneNode(true);s.appendChild(u);o.parentNode.replaceChild(s,o);return 1}}else if(e.nodeType===1&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&!(e.tagName===n.toUpperCase()&&e.className===r)){for(var a=0;a<e.childNodes.length;a++){a+=jQuery.highlight(e.childNodes[a],t,n,r)}}return 0}});jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};jQuery.extend(t,e);return this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this);e.normalize()}).end()};jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:false,wordsOnly:false};jQuery.extend(n,t);if(e.constructor===String){e=[e]}e=jQuery.grep(e,function(e,t){return e!=""});e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});if(e.length==0){return this}var r=n.caseSensitive?"":"i";var i="("+e.join("|")+")";if(n.wordsOnly){i="\\b"+i+"\\b"}var s=new RegExp(i,r);return this.each(function(){jQuery.highlight(this,s,n.element,n.className)})}